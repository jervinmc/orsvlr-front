(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{679:function(e,t,n){"use strict";n.r(t);var o=n(31),r=(n(94),n(32),n(25),n(62),n(304),n(5),n(79),n(43),n(45),n(452),n(303),{props:["isOpen","items","isAdd"],watch:{items:function(){this.book=this.items}},data:function(){return{account_type:"",room_list:["Standard","Deluxe","Suite"],book:[],name:"",buttonLoad:!1}},created:function(){this.name=localStorage.getItem("name"),this.account_type=localStorage.getItem("account_type")},methods:{confirm:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.book.price-e.book.to_pay!=0){t.next=4;break}return t.next=3,e.$axios.patch("/book/".concat(e.book.id,"/"),{to_pay:0},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 3:t.sent;case 4:return e.buttonLoad=!0,t.next=7,e.$axios.post("/confirmed/status/",{status:"confirmed",email:e.book.email,id:e.book.id},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(t){e.$axios.post("/logs/",{name:e.name,action:"confirmed the reservation. ID : ".concat(e.book.id)}),e.buttonLoad=!1,e.$emit("refresh")}));case 7:t.sent;case 8:case"end":return t.stop()}}),t)})))()},addEvents:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.buttonLoad=!0,t.prev=1,n=new FormData,null!=e.image&&""!=e.image&&n.append("image",e.image),n.append("package",e.events.package),n.append("price",e.events.price),n.append("descriptions",e.events.descriptions),!e.isAdd){t.next=13;break}return t.next=10,e.$axios.post("/events/",n,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(){e.$refs.form.reset(),e.buttonLoad=!1,e.$emit("cancel"),e.$emit("refresh")}));case 10:t.sent,t.next=16;break;case 13:return t.next=15,e.$axios.patch("/discussions/".concat(e.discussions.id,"/"),n,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(){e.buttonLoad=!1,e.$emit("cancel"),e.$emit("refresh")}));case 15:t.sent;case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(1),e.buttonLoad=!1;case 21:case"end":return t.stop()}}),t,null,[[1,18]])})))()},formatPrice:function(e){return(e/1).toFixed(2).replace(",",".").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},onFileUpload:function(e){if(this.image=e,(e=e.target.files[0]).name.length>100)alert("255 characters exceeded filename.");else{try{if(e.size>16e6)return void alert("Only 15mb file can be accepted.")}catch(e){return void alert(e)}this.image=e,null==e||(this.url,this.img_holder=URL.createObjectURL(e))}},cancel:function(){this.$emit("cancel")}}}),c=n(93),l=n(134),d=n.n(l),m=n(218),f=n(206),h=n(174),v=n(443),k=n(444),x=n(447),component=Object(c.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{width:"500",persistent:""},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[n("v-card",{staticClass:"pa-10"},[n("div",{staticClass:"text-h6",attrs:{align:"center"}},[e._v("Confirmation")]),e._v(" "),n("div",{staticClass:"pa-10",attrs:{align:"center"}},[e._v("\n    Are you sure you want to CONFIRM this reservation?\n  ")]),e._v(" "),n("v-card-actions",[n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{align:"end"}},[n("v-btn",{attrs:{color:"red",text:""},on:{click:e.cancel}},[e._v(" Back ")])],1),e._v(" "),n("v-col",[n("v-btn",{attrs:{color:"success",loading:e.buttonLoad,text:""},on:{click:e.confirm}},[e._v(" Confirm ")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;d()(component,{VBtn:m.a,VCard:f.a,VCardActions:h.a,VCol:v.a,VDialog:k.a,VRow:x.a})}}]);